pgadmin-1   | /venv/lib/python3.12/site-packages/passlib/pwd.py:16: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
pgadmin-1   |   import pkg_resources
ospo-app-1  | 
ospo-app-1  | > rest-express@1.0.0 dev
ospo-app-1  | > NODE_ENV=development tsx server/index.ts
ospo-app-1  | 
keycloak-1  | Updating the configuration and installing your custom providers, if any. Please wait.
ospo-app-1  | Using provided DATABASE_URL from environment
ospo-app-1  | Creating PostgreSQL connection pool with config: {
ospo-app-1  |   connectionString: 'postgres://ospo_user:ospo_password123@postgres:5432/ospo_events',
ospo-app-1  |   password: undefined
ospo-app-1  | }
ospo-app-1  | PostgreSQL connection pool and Drizzle ORM initialized
ospo-app-1  | Testing PostgreSQL connection...
ospo-app-1  | Using Keycloak service at: http://keycloak:8080
ospo-app-1  | Setting up Keycloak proxy to internal URL: http://keycloak:8080
ospo-app-1  | Using PostgreSQL session store
ospo-app-1  | Using custom Keycloak URL: http://keycloak:8080/auth/
ospo-app-1  | Attempting to initialize database tables...
ospo-app-1  | Initializing database tables (if they don't exist)...
ospo-app-1  | ✅ Database connection test successful
ospo-app-1  | ✅ PostgreSQL connection successful
ospo-app-1  | Current events table columns: [
ospo-app-1  |   { column_name: 'id', data_type: 'integer' },
ospo-app-1  |   { column_name: 'name', data_type: 'text' },
ospo-app-1  |   { column_name: 'description', data_type: 'text' },
ospo-app-1  |   { column_name: 'location', data_type: 'text' },
ospo-app-1  |   { column_name: 'start_date', data_type: 'date' },
ospo-app-1  |   { column_name: 'end_date', data_type: 'date' },
ospo-app-1  |   { column_name: 'website', data_type: 'text' },
ospo-app-1  |   { column_name: 'type', data_type: 'text' },
ospo-app-1  |   { column_name: 'goals', data_type: 'ARRAY' },
ospo-app-1  |   { column_name: 'status', data_type: 'text' },
ospo-app-1  |   {
ospo-app-1  |     column_name: 'created_at',
ospo-app-1  |     data_type: 'timestamp without time zone'
ospo-app-1  |   },
ospo-app-1  |   {
ospo-app-1  |     column_name: 'updated_at',
ospo-app-1  |     data_type: 'timestamp without time zone'
ospo-app-1  |   },
ospo-app-1  |   { column_name: 'link', data_type: 'text' },
ospo-app-1  |   { column_name: 'priority', data_type: 'text' },
ospo-app-1  |   { column_name: 'goal', data_type: 'ARRAY' },
ospo-app-1  |   { column_name: 'cfp_deadline', data_type: 'text' },
ospo-app-1  |   { column_name: 'notes', data_type: 'text' },
ospo-app-1  |   { column_name: 'created_by_id', data_type: 'integer' }
ospo-app-1  | ]
ospo-app-1  | ✅ Added missing columns to users table and fixed constraints
ospo-app-1  | ✅ Users table initialized
ospo-app-1  | ✅ Added link column to events table if missing
ospo-app-1  | ✅ Added priority column to events table if missing
ospo-app-1  | ✅ Added created_at column to events table if missing
ospo-app-1  | ✅ Added updated_at column to events table if missing
ospo-app-1  | ✅ Added goal column to events table if missing
ospo-app-1  | ✅ Added cfp_deadline column to events table if missing
ospo-app-1  | ✅ Added type column to events table if missing
ospo-app-1  | ✅ Added status column to events table if missing
ospo-app-1  | ✅ Added notes column to events table if missing
ospo-app-1  | ✅ Added created_by_id column to events table if missing
ospo-app-1  | ✅ Events table initialized
ospo-app-1  | ✅ CFP submissions table initialized
ospo-app-1  | ✅ Attendees table initialized
ospo-app-1  | ✅ Sponsorships table initialized
ospo-app-1  | ✅ Assets table initialized
ospo-app-1  | ✅ Stakeholders table initialized
ospo-app-1  | ✅ Approval workflows table initialized
ospo-app-1  | ✅ Workflow reviewers table initialized
ospo-app-1  | ✅ Workflow stakeholders table initialized
ospo-app-1  | ✅ Workflow comments table initialized
ospo-app-1  | ✅ Workflow history table initialized
ospo-app-1  | ✅ Sessions table initialized
ospo-app-1  | ✅ Database initialization completed successfully!
ospo-app-1  | Database tables initialized successfully
ospo-app-1  | Securing routes with Keycloak authentication
ospo-app-1  | App environment: development, NODE_ENV: development
ospo-app-1  | Setting up Vite development server
ospo-app-1  | 4:01:38 PM [express] serving on port 5555
keycloak-1  | 2025-06-09 16:01:42,783 INFO  [io.quarkus.deployment.QuarkusAugmentor] (main) Quarkus augmentation completed in 4643ms
keycloak-1  | 2025-06-09 16:01:43,535 INFO  [org.keycloak.quarkus.runtime.hostname.DefaultHostnameProvider] (main) Hostname settings: Base URL: <unset>, Hostname: localhost:4576, Strict HTTPS: false, Path: <request>, Strict BackChannel: false, Admin URL: <unset>, Admin: <request>, Port: -1, Proxied: true
keycloak-1  | 2025-06-09 16:01:44,330 WARN  [io.quarkus.agroal.runtime.DataSources] (main) Datasource <default> enables XA but transaction recovery is not enabled. Please enable transaction recovery by setting quarkus.transaction-manager.enable-recovery=true, otherwise data may be lost if the application is terminated abruptly
keycloak-1  | 2025-06-09 16:01:44,585 WARN  [org.infinispan.PERSISTENCE] (keycloak-cache-init) ISPN000554: jboss-marshalling is deprecated and planned for removal
keycloak-1  | 2025-06-09 16:01:44,603 WARN  [org.infinispan.CONFIG] (keycloak-cache-init) ISPN000569: Unable to persist Infinispan internal caches as no global state enabled
keycloak-1  | 2025-06-09 16:01:44,665 INFO  [org.infinispan.CONTAINER] (keycloak-cache-init) ISPN000556: Starting user marshaller 'org.infinispan.jboss.marshalling.core.JBossUserMarshaller'
keycloak-1  | 2025-06-09 16:01:45,033 WARN  [io.quarkus.vertx.http.runtime.VertxHttpRecorder] (main) The X-Forwarded-* and Forwarded headers will be considered when determining the proxy address. This configuration can cause a security issue as clients can forge requests and send a forwarded header that is not overwritten by the proxy. Please consider use one of these headers just to forward the proxy address in requests.
keycloak-1  | 2025-06-09 16:01:45,301 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (main) Node name: node_717567, Site name: null
keycloak-1  | 2025-06-09 16:01:45,303 INFO  [org.keycloak.broker.provider.AbstractIdentityProviderMapper] (main) Registering class org.keycloak.broker.provider.mappersync.ConfigSyncEventListener
keycloak-1  | 2025-06-09 16:01:45,606 INFO  [org.keycloak.exportimport.singlefile.SingleFileImportProvider] (main) Full importing from file /opt/keycloak/bin/../data/import/realm.json
keycloak-1  | 2025-06-09 16:01:45,705 INFO  [org.keycloak.exportimport.util.ImportUtils] (main) Realm 'ospo-events' already exists. Import skipped
keycloak-1  | 2025-06-09 16:01:45,708 INFO  [org.keycloak.exportimport.dir.DirImportProvider] (main) Importing from directory /opt/keycloak/bin/../data/import
keycloak-1  | 2025-06-09 16:01:45,708 INFO  [org.keycloak.services] (main) KC-SERVICES0030: Full model import requested. Strategy: IGNORE_EXISTING
keycloak-1  | 2025-06-09 16:01:45,709 INFO  [org.keycloak.services] (main) KC-SERVICES0032: Import finished successfully
keycloak-1  | 2025-06-09 16:01:45,784 INFO  [io.quarkus] (main) Keycloak 23.0.6 on JVM (powered by Quarkus 3.2.10.Final) started in 2.876s. Listening on: http://0.0.0.0:8080
keycloak-1  | 2025-06-09 16:01:45,785 INFO  [io.quarkus] (main) Profile dev activated. 
keycloak-1  | 2025-06-09 16:01:45,785 INFO  [io.quarkus] (main) Installed features: [agroal, cdi, hibernate-orm, jdbc-h2, jdbc-mariadb, jdbc-mssql, jdbc-mysql, jdbc-oracle, jdbc-postgresql, keycloak, logging-gelf, micrometer, narayana-jta, reactive-routes, resteasy-reactive, resteasy-reactive-jackson, smallrye-context-propagation, smallrye-health, vertx]
keycloak-1  | 2025-06-09 16:01:45,816 WARN  [org.keycloak.quarkus.runtime.KeycloakMain] (main) Running the server in development mode. DO NOT use this configuration in production.
